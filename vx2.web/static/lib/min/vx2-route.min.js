/*! vx-route - v2.4.7 - 2016-11-14
* http://www.csii.com.cn/hercules/v
* Copyright (c) 2016 CSII; Licensed : BSD */
!function(a,b,c){"use strict";function d(){function a(a,c){return b.extend(Object.create(a),c)}function c(a,b){var c=b.caseInsensitiveMatch,d={originalPath:a,regexp:a},e=d.keys=[];return a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(a,b,c,d){var f="?"===d?d:null,g="*"===d?d:null;return e.push({name:c,optional:!!f}),b=b||"",""+(f?"":b)+"(?:"+(f?b:"")+(g&&"(.+?)"||"([^/]+)")+(f||"")+")"+(f||"")}).replace(/([\/$\*])/g,"\\$1"),d.regexp=new RegExp("^"+a+"$",c?"i":""),d}var d={};this.when=function(a,e){var f=b.copy(e);if(b.isUndefined(f.reloadOnSearch)&&(f.reloadOnSearch=!0),b.isUndefined(f.caseInsensitiveMatch)&&(f.caseInsensitiveMatch=this.caseInsensitiveMatch),d[a]=b.extend(f,a&&c(a,f)),a){var g="/"==a[a.length-1]?a.substr(0,a.length-1):a+"/";d[g]=b.extend({redirectTo:a},c(g,f))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(a){return"string"==typeof a&&(a={redirectTo:a}),this.when(null,a),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(c,e,f,g,h,j,k){function l(a,b){var c=b.keys,d={};if(!b.regexp)return null;var e=b.regexp.exec(a);if(!e)return null;for(var f=1,g=e.length;g>f;++f){var h=c[f-1],i=e[f];h&&i&&(d[h.name]=i)}return d}function m(a){var d=t.current;q=o(),r=q&&d&&q.$$route===d.$$route&&b.equals(q.pathParams,d.pathParams)&&!q.reloadOnSearch&&!s,r||!d&&!q||c.$broadcast("$routeChangeStart",q,d).defaultPrevented&&a&&a.preventDefault()}function n(){var a=t.current,d=q;r?(a.params=d.params,b.copy(a.params,f),c.$broadcast("$routeUpdate",a)):(d||a)&&(s=!1,t.current=d,d&&d.redirectTo&&(b.isString(d.redirectTo)?e.path(p(d.redirectTo,d.params)).search(d.params).replace():e.url(d.redirectTo(d.pathParams,e.path(),e.search())).replace()),g.when(d).then(function(){if(d){var a,c,e=b.extend({},d.resolve);return b.forEach(e,function(a,c){e[c]=b.isString(a)?h.get(a):h.invoke(a,null,null,c)}),b.isDefined(a=d.template)?b.isFunction(a)&&(a=a(d.params)):b.isDefined(c=d.templateUrl)&&(b.isFunction(c)&&(c=c(d.params)),b.isDefined(c)&&(d.loadedTemplateUrl=k.valueOf(c),a=j(c))),b.isDefined(a)&&(e.$template=a),g.all(e)}}).then(function(e){d==t.current&&(d&&(d.locals=e,b.copy(d.params,f)),c.$broadcast("$routeChangeSuccess",d,a))},function(b){d==t.current&&c.$broadcast("$routeChangeError",d,a,b)}))}function o(){var c,f;return b.forEach(d,function(d,g){!f&&(c=l(e.path(),d))&&(f=a(d,{params:b.extend({},e.search(),c),pathParams:c}),f.$$route=d)}),f||d[null]&&a(d[null],{params:{},pathParams:{}})}function p(a,c){var d=[];return b.forEach((a||"").split(":"),function(a,b){if(0===b)d.push(a);else{var e=a.match(/(\w+)(?:[?*])?(.*)/),f=e[1];d.push(c[f]),d.push(e[2]||""),delete c[f]}}),d.join("")}var q,r,s=!1,t={routes:d,reload:function(){s=!0,c.$evalAsync(function(){m(),n()})},updateParams:function(a){if(!this.current||!this.current.$$route)throw i("norout","Tried updating route when with no current route");a=b.extend({},this.current.params,a),e.path(p(this.current.$$route.originalPath,a)),e.search(a)}};return c.$on("$locationChangeStart",m),c.$on("$locationChangeSuccess",n),t}]}function e(){this.$get=function(){return{}}}function f(a,c,d){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(e,f,g,h,i){function j(){n&&(d.cancel(n),n=null),l&&(l.$destroy(),l=null),m&&(n=d.leave(m),n.then(function(){n=null}),m=null)}function k(){var g=a.current&&a.current.locals,h=g&&g.$template;if(b.isDefined(h)){var k=e.$new(),n=a.current;e.$emit("$viewContentLoadedStart",k);var q=i(k,function(a){d.enter(a,null,m||f).then(function(){!b.isDefined(o)||o&&!e.$eval(o)||c()}),j()});m=q,l=n.scope=k,l.$emit("$viewContentLoaded"),l.$eval(p)}else j()}var l,m,n,o=g.autoscroll,p=g.onload||"";e.$on("$routeChangeSuccess",k),k()}}}function g(a,b,c){return{restrict:"ECA",priority:-400,link:function(d,e){var f=c.current,g=f.locals;e.html(g.$template);var h=a(e.contents());if(f.controller){g.$scope=d;var i=b(f.controller,g);f.controllerAs&&(d[f.controllerAs]=i),e.data("$ngControllerController",i),e.children().data("$ngControllerController",i)}h(d)}}}var h=b.module("ngRoute",["ng"]).provider("$route",d),i=b.$$minErr("ngRoute");h.provider("$routeParams",e),h.directive("ngView",f),h.directive("ngView",g),f.$inject=["$route","$anchorScroll","$animate"],g.$inject=["$compile","$controller","$route"]}(window,window.angular),function(a,b,c){"use strict";var d=b.module("ngRoute");d.provider("$submitConfig",{submitErrProcess:null,setSubmitErrProcess:function(a){this.submitErrProcess=a},submitCompileProcess:null,setSubmitCompileProcess:function(a){this.submitCompileProcess=a},submitBeforeProcess:null,setSubmitBeforeProcess:function(a){this.submitBeforeProcess=a},$get:["$log",function(a){var b=this;return{doSubmitErrProcess:function(a,c,d,e){b.submitErrProcess&&b.submitErrProcess(a,c,d,e)},doSubmitCompileProcess:function(a){b.submitCompileProcess&&b.submitCompileProcess(a)},doSubmitBeforeProcess:function(a){b.submitBeforeProcess&&b.submitBeforeProcess(a)}}}]}),d.directive("ngSubmit",["$parse","$rootScope","$submitConfig","$log",function(a,c,d,e){return{restrict:"A",compile:function(c,f){var g=a(f.ngSubmit,null,!0);return function(c,h){var i=h.controller("form");c[f.name].$getData=function(){function c(a){for(var b,c=[],d=0;d<a.length;d++)isValidItem(a[d])&&(b=copy(a[d]),c.push(b));return c}function d(b,c,d){var e=a(c+"=tmp");e(b,{tmp:d})}function e(a){return b.isUndefined(a)||""===a||null===a||a!==a}return function(a){var f={},g={};return a&&(g=parentForm.$getData()),b.forEach(i,function(a){if(a&&a.$name&&!a.$parentModel){var b=a.$modelValue;if(e(b))return;if(a.$virtual&&(b=c(b),0===b.length))return;d(f,a.$name,b)}}),b.extend({},g,f)}}(),d.doSubmitCompileProcess(c),h.on("submit",function(a){d.doSubmitBeforeProcess(c);for(var b=c[f.name],h=f.language||c.language||"zh_CN",i=f.$$element[0],j=0;j<i.length;j++){var k=i[j];-1!=="inputselect".indexOf(k.tagName.toLowerCase())&&k.blur();var l=k.getAttribute("validate")||!0;if("BUTTON"!==k.nodeName&&"false"!==l){var m={};m.zh_CN={required:k.getAttribute("required-message")||"不能为空",min:k.getAttribute("min-message")||"最小值:"+k.getAttribute("v-min"),max:k.getAttribute("max-message")||"最大值:"+k.getAttribute("v-max"),minlength:k.getAttribute("minlength-message")||"最小长度:"+k.getAttribute("v-minlength"),maxlength:k.getAttribute("maxlength-message")||"最大长度:"+k.getAttribute("v-maxlength"),pattern:k.getAttribute("pattern-message")||"格式不正确","default":"格式不正确"},m.en={required:k.getAttribute("required-message_en")||"required invalid",min:k.getAttribute("min-message_en")||"min value:"+k.getAttribute("v-min"),max:k.getAttribute("max-message_en")||"max value:"+k.getAttribute("v-max"),minlength:k.getAttribute("minlength-message_en")||"min length:"+k.getAttribute("v-minlength"),maxlength:k.getAttribute("maxlength-message_en")||"max length:"+k.getAttribute("v-maxlength"),pattern:k.getAttribute("pattern-message_en")||"pattern invalid","default":"pattern invalid"};var n=k.name||k.id,o="en"===h?"["+(k.getAttribute("title_en")||n)+"]  ":"["+(k.getAttribute("title_zh")||k.title||n)+"]  ";for(var p in b.$error)for(var q=0;q<b.$error[p].length;q++)if(n==b.$error[p][q].$name){var r="en"===h?p+"-message_en":p+"-message",s=m[h][p]||k.getAttribute(r)||m[h]["default"];return d.doSubmitErrProcess(o,s,c,k),void e.error(o+s)}}}var t=function(){g(c,{$event:a})};c.$apply(t)})}}}}])}(window,window.vx),function(a,b){"use strict";"function"==typeof define&&define.amd?define(["angular"],b):a.hasOwnProperty("angular")?b(a.angular):"object"==typeof exports&&(module.exports=b(require("angular")))}(this,function(a){"use strict";function b(b){return function(){var c="ngStorage-";this.setKeyPrefix=function(a){if("string"!=typeof a)throw new TypeError("[ngStorage] - "+b+"Provider.setKeyPrefix() expects a String.");c=a};var d=a.toJson,e=a.fromJson;this.setSerializer=function(a){if("function"!=typeof a)throw new TypeError("[ngStorage] - "+b+"Provider.setSerializer expects a function.");d=a},this.setDeserializer=function(a){if("function"!=typeof a)throw new TypeError("[ngStorage] - "+b+"Provider.setDeserializer expects a function.");e=a},this.get=function(a){return e(window[b].getItem(c+a))},this.set=function(a,e){return window[b].setItem(c+a,d(e))},this.$get=["$rootScope","$window","$log","$timeout","$document",function(f,g,h,i,j){function k(a){var b;try{b=g[a]}catch(c){b=!1}if(b&&"localStorage"===a){var d="__"+Math.round(1e7*Math.random());try{localStorage.setItem(d,d),localStorage.removeItem(d)}catch(c){b=!1}}return b}var l,m,n=c.length,o=k(b)||(h.warn("This browser does not support Web Storage!"),{setItem:a.noop,getItem:a.noop,removeItem:a.noop}),p={$default:function(b){for(var c in b)a.isDefined(p[c])||(p[c]=a.copy(b[c]));return p.$sync(),p},$reset:function(a){for(var b in p)"$"===b[0]||delete p[b]&&o.removeItem(c+b);return p.$default(a)},$set:function(b,d){return delete p[b]&&o.removeItem(c+b),a.isDefined(p[b])||(p[b]=a.copy(d)),p.$sync(),p},$delete:function(a){return delete p[a]&&o.removeItem(c+a),p.$sync(),p},$sync:function(){for(var a,b=0,d=o.length;d>b;b++)(a=o.key(b))&&c===a.slice(0,n)&&(p[a.slice(n)]=e(o.getItem(a)))},$apply:function(){var b;if(m=null,!a.equals(p,l)){b=a.copy(l),a.forEach(p,function(e,f){a.isDefined(e)&&"$"!==f[0]&&(o.setItem(c+f,d(e)),delete b[f])});for(var e in b)o.removeItem(c+e);l=a.copy(p)}}};return p.$sync(),l=a.copy(p),f.$watch(function(){m||(m=i(p.$apply,100,!1))}),g.addEventListener&&g.addEventListener("storage",function(b){if(b.key){var d=j[0];d.hasFocus&&d.hasFocus()||c!==b.key.slice(0,n)||(b.newValue?p[b.key.slice(n)]=e(b.newValue):delete p[b.key.slice(n)],l=a.copy(p),f.$apply())}}),g.addEventListener&&g.addEventListener("beforeunload",function(){p.$apply()}),p}]}}return a=a&&a.module?a:window.angular,a.module("ngRoute").provider("$localStorage",b("localStorage")).provider("$sessionStorage",b("sessionStorage"))}),function(a,b,c){"use strict";var d=b.module("ngRoute");d.provider("$contextConfig",{$sessionStorageEnable:!1,setSessionStorageEnable:function(a){this.$sessionStorageEnable=a},$get:["$log",function(a){var b=this;return{sessionStorageEnable:b.$sessionStorageEnable}}]}),d.factory("$context",["$rootScope","$location","$sessionStorage","$contextConfig",function(c,d,e,f){var g=function(){var a={};return f.sessionStorageEnable?e.$default&&(a.setData=function(a,b){var c={};c[a]=b,e.$set("_data",c)},a.setJson=function(a){e.$set("_data",a)},a.setNextScope=function(a,b){e.$set("_dataS",a),b?e.$set("_LikeRoute",b):e.$delete("_LikeRoute")},a.getNextScope=function(){return e._dataS},a.getLikeRoute=function(){return e._LikeRoute},a.clearNextScope=function(){e.$delete("_dataS")},a.clearLikeRoute=function(){e.$delete("_LikeRoute")},a.pushJson=function(a){e.$set("_data",b.extend(e._data||{},a))},a.getData=function(a){return e._data[a]},a.getJson=function(){return e._data},a.removeData=function(a){e._data&&delete e._data[a]},a.clear=function(){e.$delete("_data")}):(a._data={},a.setData=function(b,c){a._data[b]=c},a.setJson=function(b){a._data=b},a.setNextScope=function(b,c){a._dataS=b,c?a._LikeRoute=c:delete a._LikeRoute},a.getNextScope=function(){return a._dataS},a.getLikeRoute=function(){return a._LikeRoute},a.clearNextScope=function(){delete a._dataS},a.clearLikeRoute=function(){delete a._LikeRoute},a.pushJson=function(c){b.extend(a._data,c)},a.getData=function(b){return a._data[b]},a.getJson=function(){return a._data},a.removeData=function(b){delete a._data[b]},a.clear=function(){a._data={}},a.containsKey=function(b){return a._data[b]?!0:!1}),a}();return c.$context=g,c.$on("$viewContentLoadedStart",function(c,e){if(g.getNextScope()&&"{}"!=b.toJson(g.getNextScope())){var f=g.getLikeRoute(),h=d.path();try{(!f||h.indexOf(f)>=0)&&b.extend(e,g.getNextScope())}catch(i){a.history.back(-1)}finally{(!f||h.indexOf(f)<0)&&g.clearNextScope()}}}),g}])}(window,vx),function(window,vx){"use strict";function ngPagesController(a,b,c,d){this.pages=[],this.activePage=this.historyPage=0}ngPagesController.$inject=["$scope","$element","$attrs","$http"];var directive={};directive.ngPages=["$log",function($log){return{restrict:"EA",priority:99,controller:ngPagesController,link:function(scope,element,attr,ctrl){ctrl.pages=element.children("div[v-page]");for(var i=1;i<ctrl.pages.length;i++)ctrl.pages[i].style.display="none";scope.$root.$loadPage=function(param){if(/^[#]/.test(param)){ctrl.historyPage=ctrl.activePage,/^\d$/.test(param.substr(1))?ctrl.activePage=parseInt(param.substr(1))-1:ctrl.activePage=eval(ctrl.historyPage+param.substr(1))>0?eval(ctrl.historyPage+param.substr(1)):0,ctrl.pages.eq(ctrl.historyPage).hide(),ctrl.pages.eq(ctrl.activePage).show();var pageUrl=ctrl.pages.eq(ctrl.activePage).attr("href");scope.$emit("$pageContentLoaded",param,pageUrl)}}}}}],directive.ngPage=["$templateRequest","$compile",function(a,b){return{restrict:"EA",priority:100,link:function(c,d,e){e.href&&a(e.href,!0).then(function(a){d.html(a),b(d.contents())(c)},function(){$log.error(e.href+"装载失败！")})}}}],vx.module("ngRoute").directive(directive)}(window,window.vx);